/* jQuery tablefilter Plugin - v1.0.2 */
!function(t){var e={init:function(e){return this.each(function(){var i={input:"input[type=search]",trigger:{event:"keyup",element:void 0},caseSensitive:!1,timeout:-1,sort:!1,notFoundElement:null,callback:function(){}};"object"==typeof e&&t.extend(!0,i,e);var a=t(this),s=null;if(i.trigger.element||(i.trigger.element=i.input),i.trigger.element.length||t.error("Trigger element not found."),i.notFoundElement=t(i.notFoundElement),t(i.trigger.element).bind(i.trigger.event,function(){i.trigger.event.indexOf("key")<0&&(i.timeout=0);try{clearTimeout(s)}catch(t){}s=setTimeout(function(){n.call(void 0,a,i)},i.timeout)}),i.sort){var o=a.find("th:not([data-tsort=disabled])");o.append('<span class="caret"></span>').attr("data-tsort","desc"),o.css("cursor","pointer").addClass("tfsort").bind("click",function(){r.call(void 0,this)})}})}},n=function(e,n){var r,s=t(n.input).val()||t(n.input).text(),o=[],l=[];if(s=s.trim().split(" "),s=s.map(function(t){return t.trim()}),n.caseSensitive||(s=s.map(function(t){return t.toLowerCase()})),s.map(function(t,e){t.trim().length||s.splice(e,1)}),s.length){var d=[];e.find("thead th").each(function(e){"disabled"==t(this).attr("data-tfilter")&&d.push(e)});var c=e.find("tbody tr").toArray();for(var h in c)if("length"!=h){var u=c[h],r=0,f=[];t(u).find("td:not([data-tfilter=disabled])").each(function(e){for(var r in d)if(d[r]==e)return;var i=t(this).text().trim();i.length&&f.push(n.caseSensitive?i:i.toLowerCase())}),s.forEach(function(t){f.every(function(e){return e.indexOf(t)>=0?(r++,!1):!0})}),r=r==s.length,!r&&t(u).is(":visible")?o.push(u):r&&t(u).is(":hidden")&&l.push(u)}}else l=e.find("tbody tr:hidden").toArray();l.length&&(e.is(":hidden")&&l.push(e.get(0)),a(l,"show")),o.length&&a(o,"hide"),(l.length||o.length)&&(n.callback.call(),i(e,n.notFoundElement))},r=function(e){e=t(e);var n=e.closest("table").find("tbody td:nth-child("+(e.parent().find("th").index(e.get(0))+1)+")"),r=[];e.filter("[data-tsort=asc]").length?e.attr("data-tsort","desc"):e.attr("data-tsort","asc"),"asc"==e.attr("data-tsort")?t(e).find("span.caret").css("transform","rotate(180deg)"):t(e).find("span.caret").css("transform","rotate(0deg)"),n.each(function(){r[r.length]={text:null,obj:t(this).closest("tr")};var n;switch(e.attr("data-tsort-type")){case"number":n=parseFloat(t(this).text().replace(/[,]/g,".").replace(/[^0-9\.\-]/g,""));break;case"date":try{n=new Date(t(this).text()).getTime()}catch(i){n=0}break;case"date-br":n=t(this).text().match(/[0-9\/]+[\s]+[0-9]+[:]/g)?t(this).text().split(" ")[0].split("/").reverse().join("-")+" "+t(this).text().split(" ")[1]:t(this).text().match(/[0-9]{2}[\/]{1}[0-9]{2}[\/]{1}[0-9]{4}/g)?t(this).text().split("/").reverse().join("-"):0,n=new Date(n).getTime();break;default:n=t(this).text().toLowerCase()}r[r.length-1].text=n});for(var i=0;i<r.length;i++)for(var a=0;a<r.length;a++)(r[i].text<r[a].text&&"asc"==e.attr("data-tsort")||r[i].text>r[a].text&&"desc"==e.attr("data-tsort"))&&(temp=r[i],r[i]=r[a],r[a]=temp);for(i=0;i<r.length;i++)t(e).closest("table").find("tbody").append(r[i].obj)},i=function(t,e){e.length&&(t.find("tbody tr:visible").length?a(e,"hide"):(a(e,"show"),a(t,"hide")))},a=function(t,e){for(var n=t.length,r=0;n>r;r++)t[r].style.display="show"==e?"":"none"};t.fn.tableFilter=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("the method "+n+" does not exist on tableFilter"):e.init.apply(this,arguments)}}(jQuery);